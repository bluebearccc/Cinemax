<div class="card card-custom mb-4" th:if="${currentStep == 2}" th:fragment="schedule-selection">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0"><i class="fas fa-calendar me-2"></i>Chọn Suất Chiếu</h5>
        <a href="/cashier/movie/" class="btn btn-outline-secondary btn-sm">
            <i class="fas fa-arrow-left me-1"></i>Chọn phim khác
        </a>
    </div>
    <div class="card-body">
        <div class="mb-3">
            <h6 th:text="${selectedMovie.movieName}"></h6>
            <p class="text-muted" th:text="${selectedMovie.duration + ' phút'}"></p>
        </div>
        <hr>
        <h6>Hôm nay - <span th:text="${currentDate}"></span></h6>

        <div class="row" th:if="${schedules != null and !schedules.isEmpty()}">
            <div class="col-md-4 mb-2" th:each="schedule : ${schedules}">
                <form action="/cashier/select-seats" method="post">
                    <input type="hidden" name="time"
                           th:value="${#temporals.format(schedule.startTime, 'HH:mm')}">
                    <input type="hidden" name="roomName" th:value="${schedule.room.name}">
                    <input type="hidden" name="roomType" th:value="${schedule.room.typeOfRoom}">
                    <input type="hidden" name="scheduleId" th:value="${schedule.scheduleId}">
                    <button type="submit"
                            th:class="${schedule.room.typeOfRoom == 'Couple' ? 'btn btn-outline-danger w-100' : 'btn btn-outline-primary w-100'}">
                        <span th:text="${#temporals.format(schedule.startTime, 'HH:mm')}"></span><br>
                        <small>
                            Phòng <span th:text="${schedule.room.name}"></span><br>
                            <span
                                    th:text="${schedule.room.typeOfRoom == 'Couple' ? 'Ghế đôi' : 'Ghế đơn'}"></span>
                        </small>
                    </button>
                </form>
            </div>
        </div>

        <div th:if="${schedules == null or schedules.isEmpty()}" class="text-center py-4">
            <i class="fas fa-calendar-times fa-3x text-muted mb-3"></i>
            <h5 class="text-muted">Không có suất chiếu</h5>
            <p class="text-muted">Phim này hiện tại không có suất chiếu nào.</p>
        </div>
    </div>
</div>