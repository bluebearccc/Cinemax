<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>
    <link th:href="@{/common-static/css/register-stylesheet.css}" rel="stylesheet">
</head>
<body>
<div class="header">
    <div class="logo">
        <div class="logo-icon">C</div>
        <span class="logo-text">CinemaMax</span>
    </div>
    <nav>
        <ul class="nav-links">
            <li><a href="#home">HOME</a></li>
            <li><a href="#movies">MOVIES</a></li>
            <li><a href="#theaters">THEATERS</a></li>
            <li><a href="#blog">BLOG</a></li>
            <li><a href="#contact">CONTACT</a></li>
        </ul>
    </nav>
</div>

<div class="register-container">
    <div class="register-header">
        <h1 class="register-title">Create Account</h1>
        <p class="register-subtitle">Join CinemaMax for the ultimate movie experience</p>
    </div>

    <form id="registerForm" th:action="@{/register}" method="POST" onsubmit="return validatePasswords()">
        <div class="form-group">
            <label for="fullName" class="form-label">Full Name</label>
            <input
                    type="text"
                    id="fullName"
                    name="fullName"
                    class="form-input"
                    placeholder="Enter your full name"
                    required
            >
        </div>

        <div class="form-group">
            <label for="email" class="form-label">Email Address</label>
            <input
                    type="email"
                    id="email"
                    name="email"
                    class="form-input"
                    placeholder="Enter your email"
                    required
            >
            <p th:text="${error}" style="color: red; font-size: 14px"></p>
            <p th:text="${inform}" style="color: green; font-size: 14px"></p>
        </div>

        <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <input
                    type="password"
                    id="password"
                    name="password"
                    class="form-input"
                    placeholder="Create a strong password"
                    required
            >
        </div>

        <div class="form-group">
            <label for="confirmPassword" class="form-label">Confirm Password</label>
            <input
                    type="password"
                    id="confirmPassword"
                    name="confirmPassword"
                    class="form-input"
                    placeholder="Confirm your password"
                    required
            >
            <p class="error-message" id="confirmError">Passwords do not match</p>
        </div>

        <button type="submit" class="register-btn" id="registerBtn" onclick="">
            Create Account
        </button>
    </form>

    <div class="social-buttons">
        <a th:href="@{oauth/google/login}" class="social-btn google" id="googleRegister" title="Sign up with Google">
            <img th:src="@{/common-static/images/google.jpg}" alt="Google"/>
        </a>
        <a th:href="@{oauth/github/login}" class="social-btn github" id="githubRegister" title="Sign up with GitHub">
            <img th:src="@{/common-static/images/github.png}" alt="GitHub"/>
        </a>
    </div>

    <div class="login-link">
        Already have an account?
        <a th:href="@{/login}" id="loginLink">Sign In</a>
    </div>
</div>
<script>
    function validatePasswords() {
        const password = document.getElementById('password').value;
        const confirmPassword = document.getElementById('confirmPassword').value;

        const confirmError = document.getElementById('confirmError');

        if (password !== confirmPassword) {
            confirmError.style.display = 'block';
            return false; // Ngăn form submit
        } else {
            confirmError.style.display = 'none';
            return true; // Cho phép submit nếu đúng
        }
    }
</script>
</body>
</html>