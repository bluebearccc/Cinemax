<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Edit User Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="shortcut icon" th:href="@{/customer-static/images/logo/logo.png}" type="image/x-icon">
</head>
<body>

<div class="container mt-5">
    <h2 class="mb-4">Chỉnh sửa thông tin cá nhân</h2>

    <!-- Hiển thị lỗi nếu có -->
    <div th:if="${errorMessage}" class="alert alert-danger" th:text="${errorMessage}"></div>

    <form th:action="@{/user/profile/update}" method="post">
        <!-- Hidden fields -->
        <input type="hidden" name="customerId" th:value="${customer.customerId}"/>
        <input type="hidden" name="accountId" th:value="${account.accountId}"/>

        <!-- Full name -->
        <div class="mb-3">
            <label for="fullName" class="form-label">Họ tên</label>
            <input type="text" class="form-control" id="fullName" name="fullName"
                   th:value="${customer.fullName}" required>
        </div>

        <!-- Phone -->
        <div class="mb-3">
            <label for="phone" class="form-label">Số điện thoại</label>
            <input type="text" class="form-control" id="phone" name="phone"
                   th:value="${customer.phone}">
        </div>

        <!-- Email -->
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email"
                   th:value="${account.email}" required>
        </div>

        <!-- Mật khẩu mới -->
        <div class="mb-3">
            <label for="newPassword" class="form-label">Mật khẩu mới</label>
            <input type="password" class="form-control" id="newPassword" name="newPassword">
        </div>

        <!-- Xác nhận mật khẩu -->
        <div class="mb-3">
            <label for="confirmPassword" class="form-label">Xác nhận mật khẩu mới</label>
            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword">
        </div>

        <!-- Buttons -->
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
            <a th:href="@{/user/profile(customerId=${customer.customerId})}" class="btn btn-secondary">Quay lại</a>
        </div>
    </form>
</div>

</body>
</html>
