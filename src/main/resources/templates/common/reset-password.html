<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reset Password</title>
    <link th:href="@{/common-static/css/reset-password.css}" rel="stylesheet">
</head>
<body>
<div class="bg-animation">
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>
    <div class="floating-shape shape-3"></div>
    <div class="floating-shape shape-4"></div>
</div>

<div class="container">
    <div class="header-section">
        <div class="password-icon">
            <svg viewBox="0 0 24 24">
                <img th:src="@{/common-static/images/passwordicon.png}" alt="Password Icon">
            </svg>
        </div>

        <h1>Create New Password</h1>
    </div>

    <form class="form-section" id="passwordForm" onsubmit="return validatePasswords()" method="POST" th:action="@{/updatepassword}">
        <div class="form-group">
            <label class="form-label" for="newPassword">New Password</label>
            <div class="password-input-container">
                <input
                        type="password"
                        id="newPassword"
                        class="password-input"
                        name="password"
                        placeholder="Enter new password..."
                        autocomplete="new-password"
                >
            </div>
        </div>

        <div class="form-group">
            <label class="form-label" for="confirmPassword">Confirm Password</label>
            <div class="password-input-container">
                <input
                        type="password"
                        id="confirmPassword"
                        class="password-input"
                        placeholder="Re-enter new password..."
                        autocomplete="new-password"
                >
            </div>
            <p class="error-message" id="confirmError">Passwords do not match</p>
        </div>

        <button type="submit" class="submit-btn" id="submitBtn">
            Update Password
        </button>

        <a th:href="@{/login}" class="back-to-login">
            ← Back to Login
        </a>
    </form>

</div>
<script>
    function validatePasswords() {
        const newPassword = document.getElementById('newPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const confirmError = document.getElementById('confirmError');

        if (newPassword !== confirmPassword) {
            confirmError.style.display = 'block';
            return false; // Ngăn form submit
        } else {
            confirmError.style.display = 'none';
            return true; // Cho phép submit nếu đúng
        }
    }
</script>
</body>
</html>